function addclickpt() { var t = event.clientX, e = event.clientY, n = new Date; h = (n.getHours() < 10 ? "0" : "") + n.getHours(), m = (n.getMinutes() < 10 ? "0" : "") + n.getMinutes(); var a = h + ":" + m, c = JSON.stringify({ x: t, y: e, time: a }), d = new XMLHttpRequest; d.onreadystatechange = function () { 4 == this.readyState && 200 == this.status && console.log("sending") }, d.open("POST", "http://localhost:8888/clickdata", !0), d.setRequestHeader("Content-type", "application/json"), d.send(c) } document.addEventListener ? document.getElementsByTagName("body")[0].addEventListener("click", addclickpt) : document.attachEvent && document.getElementsByTagName("body")[0].attachEvent("onclick", addclickpt);